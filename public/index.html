<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nebulum Mars Rovers</title>
    <style>
      body {
        font-family: system-ui, sans-serif;
        background: #0c0c0c;
        color: #eaeaea;
        text-align: center;
        padding: 3rem 1rem;
      }
      h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
      }
      p.subtitle {
        color: #aaa;
        margin-bottom: 2rem;
      }
      .rover {
        display: inline-block;
        background: #1a1a1a;
        border-radius: 1rem;
        padding: 2rem;
        margin: 1rem;
        width: 300px;
        box-shadow: 0 0 20px rgba(255,255,255,0.05);
      }
      .rover img {
        width: 100%;
        border-radius: 0.5rem;
      }
      .loading {
        color: #888;
        font-style: italic;
      }
      footer {
        margin-top: 3rem;
        font-size: 0.85rem;
        color: #666;
      }
      a {
        color: #50b3ff;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <h1>Explore Mars with Nebulum</h1>
    <p class="subtitle">
      Live Mars Rover photos from <strong>Perseverance</strong> and
      <strong>Curiosity</strong> — powered by
      <a href="https://rovers.nebulum.one" target="_blank">rovers.nebulum.one</a>.
    </p>

    <div id="rovers">
      <p class="loading">Loading rover data...</p>
    </div>

    <footer>
      Built by <a href="https://nebulum.one" target="_blank">Nebulum</a> • Data from NASA APIs
    </footer>

    <script>
      const rovers = ["perseverance", "curiosity"];
      const baseURL = "https://rovers.nebulum.one/api/v1/rovers/";

      async function loadRovers() {
        const container = document.getElementById("rovers");
        container.innerHTML = "";
        for (const rover of rovers) {
          try {
            const res = await fetch(`${baseURL}${rover}`);
            const data = await res.json();
            const name = data.rover?.name || rover;
            const totalPhotos = data.rover?.total_photos || 0;
            const imgSrc =
              rover === "perseverance"
                ? "https://mars.nasa.gov/system/news_items/main_images/9287_PIA25797-FigureA-web.jpg"
                : "https://mars.nasa.gov/system/news_items/main_images/9280_PIA25513-FigureA-web.jpg";

            const div = document.createElement("div");
            div.className = "rover";
            div.innerHTML = `
              <img src="${imgSrc}" alt="${name}">
              <h2>${name}</h2>
              <p>${totalPhotos} photos available</p>
              <p><a href="https://rovers.nebulum.one/api/v1/rovers/${rover}/photos?sol=1000" target="_blank">View sample JSON</a></p>
            `;
            container.appendChild(div);
          } catch (err) {
            console.error(err);
          }
        }
      }

      loadRovers();
    </script>
  </body>
</html>
